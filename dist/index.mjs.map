{"version":3,"file":"index.mjs","sources":["../src/index.ts"],"sourcesContent":["import axios from 'axios';\n\nexport class UndakuSdk {\n  constructor(\n    private instance: string,\n    private token: string = '',\n    private baseUrl: string = 'http://api/undaku.com',\n    private appId?: string,\n    private appSecret?: string,\n    private username?: string,\n    private password?: string,\n  ) {}\n  private async fetchToken() {\n    let response;\n    try {\n      const url = `/api/session`;\n      response = await axios.get(url, {\n        headers: this.getHeaders({}),\n        baseURL: this.baseUrl,\n        params: { appId: this.appId, appSecret: this.appSecret },\n      });\n      return (\n        (response.data &&\n          response.data.data &&\n          response.data.data.freshToken) ||\n        null\n      );\n    } catch (error) {\n      return null;\n    }\n  }\n\n  async getToken() {\n    try {\n      const response = await axios.post(\n        `/api/login`,\n        {\n          username: this.username,\n          password: this.password,\n          instance: this.instance,\n        },\n        {\n          headers: this.getHeaders({}, true),\n          baseURL: this.baseUrl,\n        },\n      );\n      return response.data.createdId;\n    } catch (error) {\n      return null;\n    }\n  }\n\n  async login() {\n    if (this.appId && this.appSecret) {\n      this.token = await this.fetchToken();\n    } else {\n      this.token = await this.getToken();\n    }\n  }\n\n  private getHeaders(\n    customHeaders: any,\n    skipToken = false,\n    instance?: string,\n    token?: string,\n  ) {\n    token = token || this.token;\n    const reqSource = 'Runtime';\n    const defaultHeader: any = { 'request-source': reqSource };\n    defaultHeader['un-origin'] = instance || this.instance;\n    const headers =\n      skipToken || !token || token.length === 0\n        ? { ...defaultHeader, ...customHeaders }\n        : { ...defaultHeader, Authorization: `bearer ${token}` };\n    return headers;\n  }\n\n  async search(\n    form: string,\n    query: any,\n    reportId?: string,\n  ): Promise<SdkResponse<any[]>> {\n    let response = null;\n    const page = query.page || 1;\n    const pageSize = query.pageSize || 1000;\n    let records: any[] = [];\n    try {\n      const url = `/api/search/${form}`;\n      response = await axios.post(url, query, {\n        headers: this.getHeaders({}),\n        baseURL: this.baseUrl,\n      });\n      const searchId = response.data.createdId;\n      const searchPayload: {\n        page: number;\n        reportId?: string;\n        form: string;\n        searchId: string;\n        pageSize: number;\n        splitColumns: boolean;\n      } = {\n        page,\n        pageSize,\n        reportId,\n        form,\n        searchId,\n        splitColumns: true,\n      } as any;\n      const recordsResponse = await axios.get(`/api/search`, {\n        headers: this.getHeaders({}),\n        baseURL: this.baseUrl,\n        params: searchPayload,\n      });\n      records =\n        (recordsResponse.data &&\n          recordsResponse.data.data &&\n          recordsResponse.data.data.records) ||\n        [];\n      return { data: records, error: null };\n    } catch (ex) {\n      return { data: [], error: ex };\n    }\n  }\n\n  async createRecord(\n    form: string,\n    record: Record,\n  ): Promise<SdkResponse<string>> {\n    let response = null;\n    try {\n      const url = `/api/record/${form}`;\n      response = await axios.post(url, record, {\n        headers: this.getHeaders({}),\n        baseURL: this.baseUrl,\n      });\n      return { data: response.data.createdId, error: null };\n    } catch (error) {\n      return { error };\n    }\n  }\n\n  async getRecord(\n    form: string,\n    recordId: string,\n  ): Promise<SdkResponse<Record>> {\n    let response = null;\n    try {\n      const url = `/api/record/${form}/${recordId}`;\n      response = await axios.get(url, {\n        headers: this.getHeaders({}),\n        baseURL: this.baseUrl,\n      });\n      return { data: response.data, error: null };\n    } catch (error) {\n      return { error };\n    }\n  }\n\n  async deleteRecord(\n    form: string,\n    recordId: string,\n  ): Promise<SdkResponse<Record>> {\n    let response = null;\n    try {\n      const url = `/api/record/${form}/${recordId}`;\n      response = await axios.delete(url, {\n        headers: this.getHeaders({}),\n        baseURL: this.baseUrl,\n      });\n      return { data: response.data, error: null };\n    } catch (error) {\n      return { error };\n    }\n  }\n\n  async getRecordCount(form: string, query: any): Promise<number> {\n    //-1=unknownDueToError\n    const records = await this.search(form, query);\n    return records.error ? -1 : (records.data && records.data.length) || 0;\n  }\n\n  async checkIfRecordExist(form: string, query: any): Promise<number> {\n    //1=exist,0=notexist,-1=unknownDueToError\n    const recordLength = await this.getRecordCount(form, query);\n    return recordLength > 0 ? 1 : recordLength < 0 ? -1 : 1;\n  }\n\n  async updateRecord(\n    form: string,\n    record: Record,\n  ): Promise<SdkResponse<string>> {\n    let response = null;\n    if (record.referenceId) delete record.referenceId;\n    if (!record || !record.id) {\n      return { error: 'Record Id Is Missing' };\n    }\n    try {\n      const url = `/api/record/${form}/${record.id}`;\n      response = await axios.put(url, record, {\n        headers: this.getHeaders({}),\n        baseURL: this.baseUrl,\n      });\n      return { data: response.data.createdId, error: null };\n    } catch (error) {\n      return { error };\n    }\n  }\n\n  serializeToQueryString(obj: any, prefix?: string): string {\n    const str = [];\n    let p;\n    for (p in obj) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (obj.hasOwnProperty(p)) {\n        const k = prefix ? prefix + '[' + p + ']' : p;\n        const v = obj[p];\n        str.push(\n          v !== null && typeof v === 'object'\n            ? this.serializeToQueryString(v, k)\n            : encodeURIComponent(k) + '=' + encodeURIComponent(v),\n        );\n      }\n    }\n    return str.join('&');\n  }\n\n  async getReferences(query: {\n    formAlias: string;\n    recordId: string;\n    fieldAlias: string;\n    page: number;\n    pageSize: number;\n    childFields?: string[];\n  }) {\n    let response = null;\n    const paramString = this.serializeToQueryString(query);\n    try {\n      const url = `/api/references?${paramString}`;\n      response = await axios.get(url, {\n        headers: this.getHeaders({}),\n        baseURL: this.baseUrl,\n      });\n      return { data: response.data && response.data.data.records, error: null };\n    } catch (error) {\n      return { error };\n    }\n  }\n\n  async fetchSubInstances(): Promise<SdkResponse<SubInstancesInfoModel[]>> {\n    let response = null;\n    try {\n      const url = `/api/sub/${this.instance}`;\n      response = await axios.get(url, {\n        headers: this.getHeaders({}),\n        baseURL: this.baseUrl,\n      });\n      return { data: (response.data && response.data.data) || [], error: null };\n    } catch (error) {\n      return { error };\n    }\n  }\n}\n\nexport interface SdkResponse<T> {\n  data?: T;\n  error?: any;\n  message?: any;\n}\n\nexport interface Record {\n  id?: string;\n  form: string;\n  currentLayoutId?: string;\n  currentWFNodeId?: string;\n  workflowInProgress?: boolean;\n  actions?: string[];\n  permission?: PermissionLevel;\n  referencesToAdd: Reference[];\n  referencesToRemove: string[];\n  referenceId?: string;\n  [key: string]: any;\n}\n\nexport interface Reference extends BaseDto {\n  // Can Add names here\n  referencingFormAlias?: string;\n  referencingFieldAlias?: string;\n  referencingRecordId?: string;\n  referencedFormAlias?: string;\n  referencedFieldAlias?: string;\n  referencedRecordId?: string;\n}\n\nexport interface BaseDto {\n  id?: string;\n  createdBy?: string;\n  createdOn?: Date;\n  updatedBy?: string;\n  updatedOn?: Date;\n  isSystemOwned?: boolean;\n}\n\nexport enum PermissionLevel {\n  None = 'None',\n  Read = 'Read',\n  Write = 'Write',\n  Full = 'Full',\n}\nexport enum ObjectPermissionSource {\n  RecordPermissionField = 'RecordPermissionField',\n  Form = 'Form',\n  Action = 'Action',\n  Default = 'Default',\n}\n\nexport interface SubInstancesInfoModel {\n  instance: string;\n  appId: string;\n  appSecret: string;\n}\n"],"names":[],"mappings":"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"}